# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Pre-Build Script –≤ Xcode –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ Pods

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ —Å–±–æ—Ä–∫–µ —á–µ—Ä–µ–∑ Xcode –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞:
```
Unable to find module dependency: 'GoogleMobileAds'
```

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. Xcode –Ω–µ –≤—Å–µ–≥–¥–∞ —Å–æ–±–∏—Ä–∞–µ—Ç Pods –ø–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–±–æ—Ä–∫–æ–π
2. –î–ª—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π (DeployOld, DeployNew) –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏
3. –°–∫—Ä–∏–ø—Ç `build.sh` —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∏ —à–∞–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å Pre-Build Script

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode

1. –û—Ç–∫—Ä–æ–π—Ç–µ `Convertik.xcworkspace` (–Ω–µ `.xcodeproj`!)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `Convertik` –≤ –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–µ (—Å–∞–º—ã–π –≤–µ—Ä—Ö–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç)
3. –í—ã–±–µ—Ä–∏—Ç–µ target `Convertik`
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Build Phases**

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ Pre-Build Script

1. –ù–∞–∂–º–∏—Ç–µ **+** –≤–≤–µ—Ä—Ö—É —Å–ø–∏—Å–∫–∞ Build Phases
2. –í—ã–±–µ—Ä–∏—Ç–µ **New Run Script Phase**
3. **–í–ê–ñ–ù–û:** –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç **–ü–ï–†–ï–î** —Ñ–∞–∑–æ–π "Sources" (—Å–∞–º—ã–π –ø–µ—Ä–≤—ã–π –≤ —Å–ø–∏—Å–∫–µ!)
4. –ù–∞–∑–æ–≤–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç: `[CP] Build Pods First`
5. –í –ø–æ–ª–µ "Shell" –æ—Å—Ç–∞–≤—å—Ç–µ `/bin/sh`
6. –í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤ –ø–æ–ª–µ "Script":

```bash
"${SRCROOT}/build_pods_for_xcode.sh"
```

7. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
   - ‚úÖ **"For install builds only"** = **–ù–ï –æ—Ç–º–µ—á–µ–Ω–∞**
   - ‚úÖ **"Show environment variables in build log"** = **–ù–ï –æ—Ç–º–µ—á–µ–Ω–∞** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –ª–æ–≥–æ–≤)
   - ‚úÖ **"Run script only when installing"** = **–ù–ï –æ—Ç–º–µ—á–µ–Ω–∞**

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—è–¥–æ–∫ Build Phases

–ü–æ—Ä—è–¥–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∞–∫–∏–º:

1. ‚úÖ **[CP] Check Pods Manifest.lock** (—É–∂–µ –µ—Å—Ç—å –æ—Ç CocoaPods)
2. ‚úÖ **[CP] Build Pods First** (–Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ü–ï–†–í–´–ú!)
3. ‚úÖ **Sources**
4. ‚úÖ **Resources**
5. ‚úÖ **Frameworks**
6. ‚úÖ **[CP] Copy Pods Resources** (—É–∂–µ –µ—Å—Ç—å –æ—Ç CocoaPods)

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ

1. –ù–∞–∂–º–∏—Ç–µ **Cmd+Shift+K** (Clean Build Folder)
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, DeployOld)
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–∏–º—É–ª—è—Ç–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, iPhone 17 Pro Max)
4. –ù–∞–∂–º–∏—Ç–µ **Cmd+B** (Build)
5. –í –ª–æ–≥–µ —Å–±–æ—Ä–∫–∏ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
   ```
   üîß [Pre-Build] Building Pods first...
   üì¶ Building Google-Mobile-Ads-SDK for Release...
   üì¶ Building Pods-Convertik for Release...
   üîó Creating symlinks for DeployOld -> Release...
     ‚úÖ Created symlink: Google-Mobile-Ads-SDK
     ‚úÖ Created symlink: XCFrameworkIntermediates
   ‚úÖ [Pre-Build] Pods are ready
   ```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä

–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ö–µ–º—É**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω–∞ —Å—Ö–µ–º–∞ `Convertik` (–Ω–µ `Pods-Convertik`)
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ destination**: –í Xcode –≤—ã–±–µ—Ä–∏—Ç–µ —Å–∏–º—É–ª—è—Ç–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "iPhone 17 Pro Max")
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Debug, Release, DeployOld, DeployNew)
4. **–û—á–∏—Å—Ç–∏—Ç–µ –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ**: 
   - **Cmd+Shift+K** (Clean Build Folder)
   - **Cmd+B** (Build)
   - **Cmd+R** (Run)

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å Xcode, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```bash
cd frontend/ios
./build.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–±–∏—Ä–∞–µ—Ç Pods
- –°–æ–∑–¥–∞–µ—Ç —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏
- –°–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–∫–∞–∂–¥—ã–π —Ä–∞–∑** –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
- –≠—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç ~5-10 —Å–µ–∫—É–Ω–¥ –∫ –≤—Ä–µ–º–µ–Ω–∏ —Å–±–æ—Ä–∫–∏
- –ù–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ Pods –≤—Å–µ–≥–¥–∞ —Å–æ–±—Ä–∞–Ω—ã –ø–µ—Ä–µ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- –ï—Å–ª–∏ Pods —É–∂–µ —Å–æ–±—Ä–∞–Ω—ã, xcodebuild –ø—Ä–æ–ø—É—Å—Ç–∏—Ç –∏—Ö (incremental build)
- –î–ª—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏

