# Old Version Update Flow

## Описание

Для старой версии приложения (`com.yazydzhi.convertik`) вместо экрана оплаты показывается экран с предложением обновить приложение до новой версии.

## Реализация

### 1. Проверка версии

В `PaywallView.swift` добавлена проверка bundle ID:

```swift
private var isOldVersion: Bool {
    Bundle.main.bundleIdentifier == "com.yazydzhi.convertik"
}
```

### 2. Условный рендеринг

- **Старая версия** (`com.yazydzhi.convertik`): Показывается `UpdateRequiredView`
- **Новая версия** (`com.azg.Convertik`): Показывается обычный `PaywallView` с оплатой

### 3. UpdateRequiredView

Новый экран содержит:
- Заголовок "Доступна новая версия"
- Список преимуществ новой версии
- Кнопку "Обновить в App Store" (открывает ссылку на App Store)
- Информацию о том, что можно сделать после обновления

## Ссылка на App Store

Ссылка на новую версию:
```
https://apps.apple.com/ge/app/convertik-currency-calculator/id6749779316
```

## Поведение

### Старая версия (`com.yazydzhi.convertik`)
- При нажатии на "Убрать рекламу" → показывается `UpdateRequiredView`
- Пользователь видит предложение обновить приложение
- Кнопка "Обновить в App Store" открывает App Store

### Новая версия (`com.azg.Convertik`)
- При нажатии на "Убрать рекламу" → показывается обычный `PaywallView`
- Пользователь может оформить подписку
- Пользователь может отменить подписку в настройках Apple ID
- Всё работает как раньше

## Файлы

- `UpdateRequiredView.swift` - новый экран обновления
- `PaywallView.swift` - модифицирован для проверки версии

## Тестирование

### Тест для старой версии:
1. Соберите приложение с bundle ID `com.yazydzhi.convertik`
2. Откройте приложение
3. Нажмите "Убрать рекламу"
4. Должен показаться экран обновления

### Тест для новой версии:
1. Соберите приложение с bundle ID `com.azg.Convertik`
2. Откройте приложение
3. Нажмите "Убрать рекламу"
4. Должен показаться обычный экран оплаты

