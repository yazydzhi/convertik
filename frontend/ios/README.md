# Convertik iOS App

ะะฐัะธะฒะฝะพะต iOS ะฟัะธะปะพะถะตะฝะธะต ะดะปั ะบะพะฝะฒะตััะฐัะธะธ ะฒะฐะปัั ั ะฟะพะดะดะตัะถะบะพะน ะพััะปะฐะนะฝ ัะตะถะธะผะฐ.

## ๐ ะะพะทะผะพะถะฝะพััะธ

- **ะะณะฝะพะฒะตะฝะฝะฐั ะบะพะฝะฒะตััะฐัะธั** ะฒะฐะปัั ะฒ ะพััะปะฐะนะฝ ัะตะถะธะผะต
- **ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑะฝะพะฒะปะตะฝะธะต** ะบัััะพะฒ ะฒ ัะพะฝะต ะบะฐะถะดัะต 6 ัะฐัะพะฒ  
- **Premium ะฟะพะดะฟะธัะบะฐ** ั ะพัะบะปััะตะฝะธะตะผ ัะตะบะปะฐะผั ัะตัะตะท StoreKit2
- **ะขัะผะฝะฐั/ัะฒะตัะปะฐั ัะตะผะฐ** ั ะฐะฒัะพะผะฐัะธัะตัะบะธะผ ะฟะตัะตะบะปััะตะฝะธะตะผ
- **ะะฝะฐะปะธัะธะบะฐ** ั ะพัะฟัะฐะฒะบะพะน ะฝะฐ backend ะดะปั ัะปัััะตะฝะธั UX
- **ะะพะบะฐะปะธะทะฐัะธั** ะฝะฐ ััััะบะพะผ ะธ ะฐะฝะณะปะธะนัะบะพะผ ัะทัะบะฐั

## ๐ ะขะตัะฝะพะปะพะณะธะธ

- **UI**: SwiftUI 5 + Combine
- **ะััะธัะตะบัััะฐ**: MVVM 
- **ะฅัะฐะฝะตะฝะธะต**: CoreData ะดะปั ะพััะปะฐะนะฝ ะบััะฐ ะบัััะพะฒ
- **ะกะตัั**: URLSession + async/await ะดะปั API ะธะฝัะตะณัะฐัะธะธ
- **ะะพะฝะตัะธะทะฐัะธั**: StoreKit2 + AdMob SDK
- **ะคะพะฝ**: BackgroundTasks ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั ะบัััะพะฒ
- **ะะธะฝะธะผะฐะปัะฝะฐั ะฒะตััะธั**: iOS 15.0

## ๐ฑ ะญะบัะฐะฝั

### MainListView
- ะกะฟะธัะพะบ ะฒะฐะปัั ั ัะตะบััะธะผะธ ะบัััะฐะผะธ
- ะะพะปะต ะฒะฒะพะดะฐ ััะผะผั ะดะปั ะบะพะฝะฒะตััะฐัะธะธ
- Pull-to-refresh ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั ะบัััะพะฒ
- AdMob ะฑะฐะฝะฝะตั (ัะบััะฒะฐะตััั ะดะปั Premium)

### AddCurrencyView  
- ะะพะธัะบ ะฒะฐะปัั ั debounce
- ะกะตะบัะธะธ "ะะพะฟัะปััะฝัะต" ะธ "ะัะต ะฒะฐะปััั"
- ะะพะฑะฐะฒะปะตะฝะธะต ะฒะฐะปัั ะฒ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน ัะฟะธัะพะบ

### SettingsView
- ะะตัะตะบะปััะฐัะตะปั ัะตะผั ะพัะพัะผะปะตะฝะธั
- ะะตัะตัะพะด ะบ Premium ะฟะพะดะฟะธัะบะต
- ะกััะปะบะธ ะฝะฐ ะฟะพะปะธัะธะบั ะธ ััะปะพะฒะธั

### PaywallView
- ะกะฟะธัะพะบ ะฟัะตะธะผััะตััะฒ Premium
- ะะฝัะตะณัะฐัะธั StoreKit2 ะดะปั ะฟะพะบัะฟะบะธ
- ะะฝะพะฟะบะฐ ะฒะพัััะฐะฝะพะฒะปะตะฝะธั ะฟะพะบัะฟะพะบ

## ๐ ะััะธัะตะบัััะฐ

```
Sources/Convertik/
โโโ App/                    # ะขะพัะบะฐ ะฒัะพะดะฐ ะฟัะธะปะพะถะตะฝะธั
โ   โโโ ConvertikApp.swift
โ   โโโ ContentView.swift
โโโ Models/                 # ะะพะดะตะปะธ ะดะฐะฝะฝัั
โ   โโโ Rate.swift
โ   โโโ UserCurrency.swift
โ   โโโ APIModels.swift
โโโ Services/               # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ RatesRepository.swift
โ   โโโ APIService.swift
โ   โโโ ConversionService.swift
โ   โโโ SettingsService.swift
โ   โโโ AnalyticsService.swift
โ   โโโ StoreService.swift
โ   โโโ BackgroundService.swift
โโโ Persistence/           # CoreData ััะตะบ
โ   โโโ CoreDataStack.swift
โ   โโโ RateEntity+CoreDataClass.swift
โ   โโโ ConvertikDataModel.xcdatamodeld
โโโ Modules/              # UI ะผะพะดัะปะธ
โ   โโโ MainCurrencyList/
โ   โโโ AddCurrency/
โ   โโโ Settings/
โ   โโโ Paywall/
โโโ Components/           # ะะตัะตะธัะฟะพะปัะทัะตะผัะต ะบะพะผะฟะพะฝะตะฝัั
    โโโ AdBannerView.swift
```

## ๐ ะะพัะพะบ ะดะฐะฝะฝัั

1. **ะะฐะฟััะบ**: ะะฐะณััะทะบะฐ ะบัััะพะฒ ะธะท CoreData โ UI ะณะพัะพะฒ < 0.3ั
2. **ะคะพะฝ**: ะะฐะฟัะพั fresh ะบัััะพะฒ ั API โ ัะพััะฐะฝะตะฝะธะต ะฒ CoreData
3. **ะะพะฝะฒะตััะฐัะธั**: ะะพะบะฐะปัะฝัะต ะฒััะธัะปะตะฝะธั ะฑะตะท ัะตัะธ
4. **ะะฝะฐะปะธัะธะบะฐ**: ะะฐััะธะฝะณ ัะพะฑััะธะน โ ะพัะฟัะฐะฒะบะฐ ะฝะฐ `/stats` API
5. **Premium**: StoreKit2 ะฟะพะบัะฟะบะฐ โ ะฒะฐะปะธะดะฐัะธั ะฝะฐ `/iap/verify`

## ๐ ะกะฑะพัะบะฐ ะธ ะทะฐะฟััะบ

### ะขัะตะฑะพะฒะฐะฝะธั
- Xcode 15.0+
- iOS 15.0+ (device/simulator)
- Swift 5.9+

### ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ

1. **ะะฐะฟัััะธัะต backend ัะตัะฒะตั**:
```bash
cd ../../backend
docker-compose up -d
```

2. **ะัะบัะพะนัะต ะฟัะพะตะบั ะฒ Xcode**:
```bash
open ConvertikApp.xcodeproj
```

3. **ะัะฑะตัะธัะต target ะธ ััััะพะนััะฒะพ, ะฝะฐะถะผะธัะต Run**

### ะะพะฝัะธะณััะฐัะธั

ะัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ ะฒ `Info.plist`:
- `BGTaskSchedulerPermittedIdentifiers` ะดะปั ัะพะฝะพะฒัั ะทะฐะดะฐั
- `NSAppTransportSecurity` ะดะปั HTTP localhost ะฒ DEBUG
- Bundle Identifier: `com.azg.convertik`

### API Endpoint

ะ `APIService.swift` ะฝะฐัััะพะตะฝ ะฑะฐะทะพะฒัะน URL:
- **Development**: `http://localhost:8000/api/v1`
- **Production**: `https://api.convertik.app/api/v1` (ะฑัะดะตั ะธะทะผะตะฝะตะฝะพ)

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

```bash
# Unit ัะตััั
xcodebuild test -scheme Convertik -destination "platform=iOS Simulator,name=iPhone 15"

# SwiftLint ะฟัะพะฒะตัะบะฐ ะบะพะดะฐ
swiftlint

# Snapshot ัะตััั UI
xcodebuild test -scheme ConvertikSnapshotTests
```

## ๐ ะะตะฟะปะพะน

### TestFlight (Beta)
1. Archive ะฒ Xcode
2. Upload to App Store Connect
3. Processing โ TestFlight Beta Testing

### App Store
1. ะะตััะธั ะณะพัะพะฒะฐ ะฒ TestFlight
2. Create App Store Version
3. Submit for Review
4. Release ะฟะพัะปะต ะพะดะพะฑัะตะฝะธั

## ๐ Privacy & Security

- **ะะฝะพะฝะธะผะฝะฐั ะฐะฝะฐะปะธัะธะบะฐ**: ัะพะปัะบะพ Device UUID, ะฑะตะท ะฟะตััะพะฝะฐะปัะฝัั ะดะฐะฝะฝัั
- **App Transport Security**: HTTPS ะพะฑัะทะฐัะตะปะตะฝ ะดะปั ะฟัะพะดะฐะบัะฝ API
- **StoreKit**: ะฒะฐะปะธะดะฐัะธั ะฟะพะบัะฟะพะบ ะฝะฐ ััะพัะพะฝะต ัะตัะฒะตัะฐ
- **Keychain**: ะฑะตะทะพะฟะฐัะฝะพะต ััะฐะฝะตะฝะธะต Premium ััะฐัััะฐ

## ๐ฏ Roadmap

- [ ] **Widget ะดะปั iOS 17**: ะบัััั ะฝะฐ Home Screen
- [ ] **Apple Watch**: ะบะพะผะฟะฐะฝัะพะฝ ะฟัะธะปะพะถะตะฝะธะต
- [ ] **Spotlight ะธะฝัะตะณัะฐัะธั**: ะฟะพะธัะบ ะบัััะพะฒ ัะตัะตะท Spotlight
- [ ] **Shortcuts**: ะฐะฒัะพะผะฐัะธะทะฐัะธั ัะตัะตะท Siri Shortcuts
- [ ] **CarPlay**: ะฟะพะดะดะตัะถะบะฐ ะฒ ะฐะฒัะพะผะพะฑะธะปะต

## ๐ ะะฝะฐะปะธัะธะบะฐ

ะััะปะตะถะธะฒะฐะตะผัะต ัะพะฑััะธั:
- `app_open` - ะทะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั  
- `conversion` - ะบะพะฝะฒะตััะฐัะธั ะฒะฐะปัั
- `currency_added/removed` - ัะฟัะฐะฒะปะตะฝะธะต ัะฟะธัะบะพะผ
- `subscribe_start/success` - ะฒะพัะพะฝะบะฐ ะฟะพะดะฟะธัะบะธ
- `ad_impression` - ะฟะพะบะฐะทั ัะตะบะปะฐะผั

ะกะพะฑััะธั ะฑะฐััะฐััั ะธ ะพัะฟัะฐะฒะปััััั ะฝะฐ backend ะฟัะธ ะฝะฐะปะธัะธะธ ัะตัะธ.

## ๐ค Contributing

1. Fork ัะตะฟะพะทะธัะพัะธะน
2. ะกะพะทะดะฐะนัะต feature branch
3. Commit ะธะทะผะตะฝะตะฝะธั
4. Push ะฒ branch  
5. ะกะพะทะดะฐะนัะต Pull Request

ะกะปะตะดัะนัะต Swift Style Guide ะธ ะธัะฟะพะปัะทัะนัะต SwiftLint ะดะปั ะฟัะพะฒะตัะบะธ ะบะพะดะฐ.