# –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç (iOS + Python)

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ [`docs`](docs/).  
–ì–ª–∞–≤–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç ‚Äî [TECHNICAL_SPEC.md](docs/TECHNICAL_SPEC.md).

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
```
 –ö–ª–∏–µ–Ω—Ç (Swift)              –ë—ç–∫—ç–Ω–¥ (FastAPI)
 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  HTTPS  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
 ‚îÇ  iOS‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ      /rates             ‚îÇ
 ‚îÇ                 ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ      /stats             ‚îÇ
 ‚îÇ  ‚Ä¢ UI/UX        ‚îÇ        ‚îÇ      /iap/verify        ‚îÇ
 ‚îÇ  ‚Ä¢ —Ä–∞—Å—á—ë—Ç—ã      ‚îÇ        ‚îÇ      /push/register     ‚îÇ
 ‚îÇ  ‚Ä¢ CoreData     ‚îÇ        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 PostgreSQL
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
1. **–ó–∞–ø—É—Å–∫:** —á–∏—Ç–∞–µ–º –∫—É—Ä—Å—ã –∏–∑ CoreData ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏–º —Å–ø–∏—Å–æ–∫ ‚Üí –≤ —Ñ–æ–Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º `/rates`‚ÄêAPI.  
2. **Pull‚Äëto‚Äërefresh:** —Ä—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ —Ç–µ–º –∂–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–º.  
3. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è:** –≤—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.  
4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** —Å–æ–±—ã—Ç–∏—è –±—É—Ñ–µ—Ä–∏–∑—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –±–∞—Ç—á–µ–º –Ω–∞ `/stats`, –∫–æ–≥–¥–∞ –µ—Å—Ç—å —Å–µ—Ç—å.  
5. **–ü–æ–¥–ø–∏—Å–∫–∞:** StoreKit ‚Üí `/iap/verify` ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å _Premium_ –∏ —Å–∫—Ä—ã–≤–∞–µ–º —Ä–µ–∫–ª–∞–º—É.

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
| –°—É—â–Ω–æ—Å—Ç—å                    | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è  | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                      |
|-----------------------------|-------------|---------------------------------|
| –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç `updated_at`    | CoreData    | –û—Ñ‚Äë–ª–∞–π–Ω —Ä–∞–±–æ—Ç–∞                  |
| –í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è          | UserDefaults| –ü–æ—Å–ª–µ–¥–Ω–∏–π —Å–ø–∏—Å–æ–∫ –≤–∞–ª—é—Ç          |
| –ë—É—Ñ–µ—Ä —Å–æ–±—ã—Ç–∏–π               | JSON‚Äë—Ñ–∞–π–ª   | –û—á–µ—Ä–µ–¥—å –¥–ª—è `/stats`            |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```
frontend/ios/            # Swift‚Äë–∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  ‚îú Convertik/           # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
  ‚îú project.yml          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è xcodegen
  ‚îú Info.plist           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  ‚îî Convertik.xcodeproj/ # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
backend/                  # FastAPI‚Äë—Å–µ—Ä–≤–µ—Ä
  ‚îú app/
  ‚îÇ ‚îú routes/rates.py
  ‚îÇ ‚îú routes/stats.py
  ‚îÇ ‚îî ‚Ä¶
  ‚îî requirements.txt
```

### –ó–∞–ø—É—Å–∫ iOS‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
git clone https://github.com/yourname/convertik.git
cd convertik/frontend/ios

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
brew install xcodegen
xcodebuild -downloadPlatform iOS

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
xcodegen generate

# –°–±–æ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä
xcodebuild -project Convertik.xcodeproj -scheme Convertik -destination "platform=iOS Simulator,name=iPhone 16 Pro" -derivedDataPath ./build install

# –ó–∞–ø—É—Å–∫
xcrun simctl launch <SIMULATOR_UDID> com.azg.Convertik
open -a Simulator
```

**üì± –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** 1.4  
**üåê Production API:** https://convertik.ponravilos.ru

### ‚ú® –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (v1.4.0)
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π iOS drag handle** –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –≤–∞–ª—é—Ç
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** –ø–æ—Ä—è–¥–∫–∞ –≤–∞–ª—é—Ç –≤ UserDefaults
- **–ß–∏—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –±–µ–∑ –∫—Ä–∞—Å–Ω—ã—Ö –∑–Ω–∞—á–∫–æ–≤ —É–¥–∞–ª–µ–Ω–∏—è
- **–ó–∞—â–∏—Ç–∞ —Ä—É–±–ª—è** - RUB –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø–µ—Ä–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏

### –ó–∞–ø—É—Å–∫ –±—ç–∫—ç–Ω–¥–∞
```bash
cd convertik/backend
python3 -m venv venv && source venv/bin/activate
pip install -r requirements.txt
export DATABASE_URL=postgresql://user:pass@localhost/currency_db
uvicorn app.main:app --reload
```
–î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã: `/rates`, `/stats`, `/iap/verify`.

### Production –¥–µ–ø–ª–æ–π

üåê **Live API:** https://convertik.ponravilos.ru  
üìñ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://convertik.ponravilos.ru/docs  

–î–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å–º. [backend/README_DEPLOY.md](backend/README_DEPLOY.md)

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ push
* **AppMetrica / Firebase** ‚Äî —Å–±–æ—Ä DAU/MAU, –∫–æ–Ω–≤–µ—Ä—Å–∏–π, –∫—Ä–∞—à–µ–π.  
* **APNs (+ FCM –ø—Ä–∏ Android)** ‚Äî –¥–æ—Å—Ç–∞–≤–∫–∞ push‚Äë—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.  
* –ü—É—à‚Äë–∫–∞–º–ø–∞–Ω–∏–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ AppMetrica Push –∏–ª–∏ Firebase Messaging.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±—ç–∫—ç–Ω–¥ –æ–±—â–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ REST, –ø–æ—ç—Ç–æ–º—É –º–æ–≥—É—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ. Swagger‚Äë–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è FastAPI –æ–±–ª–µ–≥—á–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤.
