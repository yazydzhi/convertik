# Technical Specification

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Å–∏—Å—Ç–µ–º–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
4. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
5. [–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö](#–º–æ–¥–µ–ª–∏-–¥–∞–Ω–Ω—ã—Ö)
6. [REST¬†API](#rest-api)
7. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
8. [–ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
9. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
10. [–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ CI/CD](#—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ-–∏-ci-cd)

---

## –û–±–∑–æ—Ä

¬´–ö–æ–Ω–≤–µ—Ä—Ç–∏–∫¬ª¬†‚Äî **–æ—Ñ‚Äë–ª–∞–π–Ω‚Äëfirst** –º–æ–±–∏–ª—å–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç.  
*–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:*

* –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –∏ —Ä–∞—Å—á—ë—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∫—ç—à—É –∫—É—Ä—Å–æ–≤;
* –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ–Ω–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–µ—Ç–∏;
* –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –±–∞–Ω–Ω–µ—Ä—ã **AdMob** + –µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ **Premium** (–æ—Ç–∫–ª—é—á–∞–µ—Ç —Ä–µ–∫–ª–∞–º—É);
* —Å–±–æ—Ä –º–∏–Ω–∏–º–∞–ª—å–Ω–æ‚Äë–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∞–Ω–æ–Ω–∏–º–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (DAU/WAU/MAU, –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏, —Ä–µ—Ç–µ–Ω—à–Ω);
* –ø—É—à‚Äë—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è —É–¥–µ—Ä–∂–∞–Ω–∏—è –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞.

–ë—ç–∫–µ–Ω–¥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–µ–∂–∏–µ –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç batched‚Äë—Å–æ–±—ã—Ç–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏ IAP.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          iOS‚Äë–ö–ª–∏–µ–Ω—Ç         ‚îÇ
‚îÇ  ‚Ä¢ SwiftUI / Combine        ‚îÇ
‚îÇ  ‚Ä¢ CoreData                 ‚îÇ
‚îÇ  ‚Ä¢ StoreKit2 + AdMob        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ HTTPS     ‚îÇ
          ‚îÇ           ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ        FastAPI Backend      ‚îÇ
‚îÇ /rates      /stats          ‚îÇ
‚îÇ /iap/verify /push/register  ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ  Cron: update_rates()       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚ñ≤‚îÄ‚î¨‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ   ‚îÇ ‚îÇ ‚îÇ
  PostgreSQL   ‚îÇ ‚îÇ  APNs
 (rates, stats)‚îÇ ‚îÇ
      Redis (*)‚îÇ ‚îÇ
               FCM (Android later)
```

> `(*)`¬†‚Äî Redis –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –∫—ç—à–∞ –∏ rate‚Äëlimiting.

### –ü–æ—Ç–æ–∫–∏

1. **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Üí —á—Ç–µ–Ω–∏–µ `RateEntity` –∏–∑¬†CoreData ‚Üí UI –≥–æ—Ç–æ–≤ <¬†0.3¬†—Å.  
2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ `RatesService` –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç `/rates`; –ø—Ä–∏ —É—Å–ø–µ—Ö–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.  
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Å—É–º–º—É ‚Üí —Ä–∞—Å—á—ë—Ç –≤ `ConverterViewModel`, –±–µ–∑ —Å–µ—Ç–∏.  
4. –ö–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ (`app_open`, `conversion`, `ad_impression` ‚Ä¶) —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –æ—á–µ—Ä–µ–¥—å.  
   –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –æ—á–µ—Ä–µ–¥—å —à–ª—ë—Ç—Å—è POST¬†`/stats` (batch ‚â§¬†50¬†—Å–æ–±—ã—Ç–∏–π).  
5. –ü–æ–¥–ø–∏—Å–∫–∞: –∫–≤–∏—Ç–∞–Ω—Ü–∏—è ‚Üí `/iap/verify` ‚Üí –æ—Ç–≤–µ—Ç `{"premium": true}` ‚Üí —Ñ–ª–∞–≥ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤¬†Keychain.  

---

## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç            | –ú–∏–Ω–∏–º—É–º                | –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ      |
|----------------------|------------------------|--------------------|
| **iOS**              | iOS¬†14.0, 100¬†–ú–ë –û–ó–£   | iOS¬†15+, A12 CPU   |
| **Backend**          | 1¬†vCPU, 512¬†–ú–ë RAM     | 2¬†vCPU, 1¬†–ì–ë RAM   |
| **PostgreSQL**       | 12                     | 15                 |
| **–°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ**  | 200¬†–ú–ë (–±–∞–∑–∞ + –ª–æ–≥–∏)   | 1¬†–ì–ë               |
| **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** | 1¬†–ú–±–∏—Ç/—Å           | 5¬†–ú–±–∏—Ç/—Å           |

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –°–ª–æ–π          | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏                         |
|---------------|------------------------------------|
| iOS‚Äë–∫–ª–∏–µ–Ω—Ç    | Swift¬†5.9, SwiftUI, Combine, CoreData, StoreKit2, Google¬†AdMob¬†SDK, AppMetrica¬†SDK |
| Backend       | Python¬†3.11, FastAPI, Uvicorn, SQLAlchemy¬†2.0, Pydantic |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö   | PostgreSQL¬†15, Alembic (–º–∏–≥—Ä–∞—Ü–∏–∏)  |
| –ö—ç—à / –æ—á–µ—Ä–µ–¥—å | Redis¬†7 (–æ–ø—Ü.)                     |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞     | AppMetrica + —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `/stats`  |
| Push          | APNs¬†(HTTP/2¬†JWT), FCM (–ø–æ–∑–∂–µ)     |
| –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥    | Prometheus + Grafana (–ø–ª–∞–Ω)        |
| CI/CD         | GitHub¬†Actions, Docker¬†Compose     |

---

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `rates`
| –ü–æ–ª–µ        | –¢–∏–ø         | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|-------------|-------------|-----------------------------|
| id          | serial PK   |                             |
| code        | varchar(3)  | ISO¬†–≤–∞–ª—é—Ç–∞ (EUR, USD ‚Ä¶)     |
| value       | numeric(18,6)| –°–∫–æ–ª—å–∫–æ —Ä—É–±–ª–µ–π –∑–∞¬†1¬†–µ–¥–∏–Ω–∏—Ü—É |
| updated_at  | timestamp   | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è  |

### –¢–∞–±–ª–∏—Ü–∞ `usage_events`
| –ü–æ–ª–µ        | –¢–∏–ø          | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|-------------|--------------|-----------------------------|
| id          | serial PK    |                             |
| device_id   | uuid         | –ê–Ω–æ–Ω–∏–º–Ω—ã–π UUID –∫–ª–∏–µ–Ω—Ç–∞      |
| event_name  | varchar(64)  | `app_open`, `conversion`‚Ä¶   |
| payload     | jsonb        | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–±—ã—Ç–∏—è           |
| created_at  | timestamp    | UTC                         |

### –¢–∞–±–ª–∏—Ü–∞ `iap_receipts`
| –ü–æ–ª–µ            | –¢–∏–ø        | –û–ø–∏—Å–∞–Ω–∏–µ                     |
|-----------------|------------|------------------------------|
| original_tx_id  | varchar PK | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø–æ–∫—É–ø–∫–∏ Apple  |
| device_id       | uuid       | –°—Å—ã–ª–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ         |
| product_id      | varchar    | SKU –ø–æ–¥–ø–∏—Å–∫–∏                 |
| expires_at      | timestamp  | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è               |
| last_check      | timestamp  | –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–∞–ª–∏–¥–∞—Ü–∏—è          |

### –¢–∞–±–ª–∏—Ü–∞ `push_tokens`
| –ü–æ–ª–µ        | –¢–∏–ø          | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|-------------|--------------|-----------------------------|
| device_id   | uuid PK      | –ê–Ω–æ–Ω–∏–º–Ω—ã–π UUID –∫–ª–∏–µ–Ω—Ç–∞      |
| token       | varchar(255) | Push-—Ç–æ–∫–µ–Ω —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞       |
| platform    | varchar(10)  | "ios" | "android"                |
| locale      | varchar(10)  | –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (ru-RU)     |
| is_premium  | boolean      | –°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏             |
| app_version | varchar(20)  | –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è           |
| created_at  | timestamp    | –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏            |
| updated_at  | timestamp    | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ        |

---

## REST¬†API

### `GET /rates`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫—É—Ä—Å—ã.

```json
{
  "updated_at": "2025-07-31T10:00:00Z",
  "base": "RUB",
  "rates": {
    "USD": 0.0112,
    "EUR": 0.0101,
    "GBP": 0.0087
  }
}
```

### `POST /stats`
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å–æ–±—ã—Ç–∏–π (‚â§ 50 –∑–∞ –∑–∞–ø—Ä–æ—Å).

```json
[
  {"name":"app_open","ts":1690800000,"device_id":"‚Ä¶"},
  {"name":"conversion","params":{"from":"USD","to":"EUR","amount":100},"ts":‚Ä¶}
]
```

### `POST /iap/verify`
```jsonc
// Request
{
  "receipt_data": "<base64>",
  "device_id": "‚Ä¶"
}
// Response
{ "premium": true, "expires_at": "2025‚Äë09‚Äë01T12:00:00Z" }
```

### `POST /push/register`
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç push-—Ç–æ–∫–µ–Ω —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

### `POST /admin/push/send` (üîí)
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–µ–≥–º–µ–Ω—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### `GET /health`
–ü—Ä–æ–±–∞ –∂–∏–≤–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.

> –ü–æ–ª–Ω–∞—è OpenAPI‚Äë—Å—Ö–µ–º–∞ ‚Äî –≤ [API.md](API.md).

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* **HTTPS¬†TLS¬†1.2+** –¥–ª—è –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.  
* –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Pydantic).  
* Rate‚Äëlimit¬†IP –∏ DeviceID (Redis¬†+ sliding¬†window).  
* –õ–æ–≥–∏–∫–∞ IAP‚Äë–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.  
* –ó–∞—â–∏—Ç–∞ –∞–¥–º–∏–Ω‚Äë—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ `X‚ÄëAdmin‚ÄëToken` + VPN.  
* –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è (device_id¬†‚Äî –∞–Ω–æ–Ω–∏–º–Ω—ã–π UUID), –Ω–µ—Ç email/—Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤.  

---

## –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞                      | –¶–µ–ª—å                                   |
|------------------------------|----------------------------------------|
| –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è     | <‚ÄØ0.5‚ÄØ—Å (cold start –Ω–∞ iPhone¬†X)       |
| –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ `/rates`        | <‚ÄØ200‚ÄØ–º—Å (P95)                         |
| –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å backend          | 99.5‚ÄØ%/–º–µ—Å—è—Ü                           |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤            | –∫–∞–∂–¥—ã–µ 6‚ÄØ—á (cron)                      |
| –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ RAM –∫–ª–∏–µ–Ω—Ç–∞      | <‚ÄØ120‚ÄØ–ú–ë                               |
| –ü–æ–∫—Ä—ã—Ç–∏–µ Unit‚Äë—Ç–µ—Å—Ç–∞–º–∏        | ‚â•‚ÄØ70‚ÄØ% backend, ‚â•‚ÄØ60‚ÄØ% iOS             |

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

| –£—Ä–æ–≤–µ–Ω—å            | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã                    |
|--------------------|--------------------------------|
| Unit (backend)     | PyTest, coverage.py            |
| Unit (iOS)         | XCTest, ViewInspector          |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ     | httpx + TestClient (FastAPI)   |
| UI‚Äë—Ç–µ—Å—Ç—ã           | XCUITest                      |
| Lint / Static      | Ruff (Python), SwiftLint       |
| CI‚Äëpipeline        | GitHub¬†Actions: `test ‚Üí lint ‚Üí build` |

---

## –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ CI/CD

| –°–µ—Ä–≤–∏—Å          | –®–∞–≥–∏                                                          |
|-----------------|--------------------------------------------------------------|
| **Backend**     | Docker¬†image ‚Üí GH¬†Container¬†Registry ‚Üí `docker compose pull && up -d` |
| **Database**    | Managed¬†PostgreSQL (DigitalOcean) + –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup    |
| **iOS**         | Archive –≤ Xcode ‚Üí *TestFlight* ‚Üí App¬†Store Connect           |
| **Secrets**     | GitHub¬†Secrets + `doppler run --` –ª–æ–∫–∞–ª—å–Ω–æ                   |

Pipeline: `push¬†‚Üí tests ‚Üí docker build ‚Üí deploy (staging) ‚Üí manual prod`.

---